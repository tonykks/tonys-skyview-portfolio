<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>45 Alliance Calendar</title>

  <!-- React / ReactDOM / Babel -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap');
    html, body { height: 100%; }
    body { font-family: 'Noto Sans KR', sans-serif; margin: 0; background: #000; }

    /* 배경 비디오 페이드 */
    .bg-video { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:.35; }
    .glass { background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.14); backdrop-filter: blur(14px); }

    /* 달력 그리드 */
    .calendar-grid { display:grid; grid-template-columns: repeat(7, 1fr); gap:.4rem; }
    .day-cell { min-height: 44px; display:flex; flex-direction:column; justify-content:center; align-items:center; border-radius: 12px; }

    /* 버튼 */
    .nav-btn { width: 44px; height: 44px; border-radius: 9999px; display:flex; align-items:center; justify-content:center;
      background: rgba(255,255,255,.10); border: 1px solid rgba(255,255,255,.18); }
    .nav-btn:active { transform: scale(.96); }

    @media (min-width: 768px) {
      .nav-btn { width: 52px; height: 52px; }
      .day-cell { min-height: 52px; }
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useMemo, useState } = React;

    // ✅ 주인님이 쓰시던 구조를 살린 "월별 config" (필요시 링크만 바꿔 끼우면 됨)
    // - vid: 배경 video
    // - p1, p2: 사진/링크(원하면 이미지로도 띄울 수 있음)
    const CONFIG = {
      "2025-12": {
        themeColor: "#F7D794",
        vid: "https://cdn.pixabay.com/video/2022/11/20/139834-773444672_large.mp4",
        p1: "https://drive.google.com",
        p2: "https://drive.google.com"
      },
      "2026-1":  { themeColor:"#FF4D4D", vid:"https://cdn.pixabay.com/video/2025/02/23/260397_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-2":  { themeColor:"#A29BFE", vid:"https://cdn.pixabay.com/video/2023/04/14/158830-817668585_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-3":  { themeColor:"#55E6C1", vid:"https://cdn.pixabay.com/video/2023/04/03/157278-814358485_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-4":  { themeColor:"#FD7272", vid:"https://cdn.pixabay.com/video/2019/04/03/1746/poster-4100927_1280.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-5":  { themeColor:"#D6A2E8", vid:"https://cdn.pixabay.com/video/2019/10/29/28453-369807721_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-6":  { themeColor:"#F8EFBA", vid:"https://cdn.pixabay.com/video/2020/12/31/60784-496654956_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-7":  { themeColor:"#58B19F", vid:"https://cdn.pixabay.com/video/2020/12/31/60784-496654956_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-8":  { themeColor:"#2C3A47", vid:"https://cdn.pixabay.com/video/2022/11/20/139834-773444672_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-9":  { themeColor:"#E84393", vid:"https://cdn.pixabay.com/video/2019/10/29/28453-369807721_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-10": { themeColor:"#D63031", vid:"https://cdn.pixabay.com/video/2023/04/14/158830-817668585_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-11": { themeColor:"#636E72", vid:"https://cdn.pixabay.com/video/2025/01/22/254098_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
      "2026-12": { themeColor:"#F7D794", vid:"https://cdn.pixabay.com/video/2020/12/31/60784-496654956_large.mp4", p1:"https://drive.google.com", p2:"https://drive.google.com" },
    };

    const MONTH_NAMES = ["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"];
    const DOW = ["일","월","화","수","목","금","토"];

    function buildCalendar(year, month) {
      const first = new Date(year, month - 1, 1);
      const last  = new Date(year, month, 0);
      const startDay = first.getDay();
      const days = [];

      // 앞쪽 빈칸
      for (let i=0; i<startDay; i++) days.push(null);
      // 날짜
      for (let d=1; d<=last.getDate(); d++) days.push(d);
      // 뒤쪽 빈칸(6주 고정 느낌)
      while (days.length < 42) days.push(null);

      return days;
    }

    function clampMove(y, m, delta) {
      let ny = y, nm = m + delta;
      if (nm < 1) { nm = 12; ny--; }
      if (nm > 12) { nm = 1; ny++; }

      // ✅ 범위 제한: 2025-12 ~ 2026-12
      if (ny < 2025) return { y, m };
      if (ny === 2025 && nm < 12) return { y, m };
      if (ny > 2026) return { y, m };
      if (ny === 2026 && nm > 12) return { y, m };

      return { y: ny, m: nm };
    }

    function App() {
      const [year, setYear] = useState(2025);
      const [month, setMonth] = useState(12);

      const key = `${year}-${month}`;
      const data = CONFIG[key] ?? { themeColor:"#ffffff", vid:"", p1:"#", p2:"#"};
      const days = useMemo(() => buildCalendar(year, month), [year, month]);

      const move = (delta) => {
        const next = clampMove(year, month, delta);
        setYear(next.y);
        setMonth(next.m);
      };

      return (
        <div className="relative w-full h-screen overflow-hidden text-white">
          {/* 배경 비디오 */}
          {data.vid ? (
            <video className="bg-video" key={data.vid} autoPlay loop muted playsInline>
              <source src={data.vid} type="video/mp4" />
            </video>
          ) : null}

          {/* 상단/본문 */}
          <div className="relative z-10 w-full h-full flex items-center justify-center p-3">
            <div className="glass w-full max-w-5xl rounded-3xl p-4 md:p-8">
              {/* 헤더 */}
              <div className="flex items-center justify-between gap-3 pb-4 border-b border-white/15">
                <button className="nav-btn" onClick={() => move(-1)} aria-label="prev">◀</button>

                <div className="text-center">
                  <div className="text-xs tracking-widest opacity-80">45 ALLIANCE</div>
                  <div className="text-2xl md:text-4xl font-black" style={{ color: data.themeColor }}>
                    {year}년 {MONTH_NAMES[month-1]}
                  </div>
                </div>

                <button className="nav-btn" onClick={() => move(1)} aria-label="next">▶</button>
              </div>

              {/* 링크(사진/자료) */}
              <div className="mt-4 flex gap-2 md:gap-3">
                <a className="flex-1 glass rounded-2xl px-4 py-3 text-sm md:text-base hover:bg-white/10"
                   href={data.p1} target="_blank" rel="noreferrer">
                  자료/사진 1 열기
                </a>
                <a className="flex-1 glass rounded-2xl px-4 py-3 text-sm md:text-base hover:bg-white/10"
                   href={data.p2} target="_blank" rel="noreferrer">
                  자료/사진 2 열기
                </a>
              </div>

              {/* 요일 */}
              <div className="mt-4 calendar-grid">
                {DOW.map((d) => (
                  <div key={d} className="text-center text-xs md:text-sm opacity-80">{d}</div>
                ))}
              </div>

              {/* 달력 */}
              <div className="mt-2 calendar-grid">
                {days.map((d, idx) => (
                  <div
                    key={idx}
                    className="day-cell glass"
                    style={{ borderColor: "rgba(255,255,255,.14)" }}
                  >
                    <div className="text-sm md:text-base font-bold">{d ?? ""}</div>
                  </div>
                ))}
              </div>

              <div className="mt-4 text-xs opacity-70">
                범위: 2025-12 ~ 2026-12 (원하면 쉽게 확장 가능)
              </div>
            </div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
