<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Grammar Formulas</title>
    
    <!-- Tailwind CSS (ìŠ¤íƒ€ì¼ë§ ë„êµ¬ - ì¸í„°ë„· ì—°ê²° í•„ìš”) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons (ì•„ì´ì½˜ ë„êµ¬) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- í°íŠ¸ ì„¤ì • -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Roboto+Mono:wght@400;500&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc; /* Slate-50 */
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        /* í˜ì´ë“œì¸ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° (ê¹”ë”í•œ UI) */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <!-- ì•±ì´ ë Œë”ë§ë  ì»¨í…Œì´ë„ˆ -->
    <div id="app"></div>

    <script>
        /**
         * [Data Layer]
         * ë¬¸ë²• ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ë‚´ìš© ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ ì´ ê°ì²´ ë‚´ë¶€ë¥¼ ë³€ê²½í•˜ì‹­ì‹œì˜¤.
         */
        const grammarData = {
            "partsOfSpeech": {
                id: "partsOfSpeech",
                title: "1. 8í’ˆì‚¬ (The 8 Parts of Speech)",
                subtitle: "ë¬¸ì¥ì„ êµ¬ì„±í•˜ëŠ” ìµœì†Œ ë‹¨ìœ„ì˜ ì¬ë£Œ (Materials)",
                items: [
                    { term: "Noun (ëª…ì‚¬)", def: "ì‚¬ëŒ, ì‚¬ë¬¼, ì¥ì†Œ, ê°œë…ì˜ ì´ë¦„", role: "ì£¼ì–´(S), ëª©ì ì–´(O), ë³´ì–´(C) ì—­í• " },
                    { term: "Pronoun (ëŒ€ëª…ì‚¬)", def: "ëª…ì‚¬ë¥¼ ëŒ€ì‹ í•˜ì—¬ ë¶€ë¥´ëŠ” ë§", role: "ëª…ì‚¬ì™€ ë™ì¼ (S, O, C)" },
                    { term: "Verb (ë™ì‚¬)", def: "ì£¼ì–´ì˜ ë™ì‘ì´ë‚˜ ìƒíƒœë¥¼ ì„œìˆ ", role: "ë¬¸ì¥ì˜ ì¤‘ì‹¬, ì„œìˆ ì–´(V)" },
                    { term: "Adjective (í˜•ìš©ì‚¬)", def: "ëª…ì‚¬ì˜ ì„±ì§ˆì´ë‚˜ ìƒíƒœë¥¼ ìˆ˜ì‹", role: "ëª…ì‚¬ ìˆ˜ì‹, ë³´ì–´(C)" },
                    { term: "Adverb (ë¶€ì‚¬)", def: "ëª…ì‚¬ ì´ì™¸ì˜ ê²ƒ(ë™ì‚¬, í˜•ìš©ì‚¬, ë‹¤ë¥¸ ë¶€ì‚¬, ë¬¸ì¥ ì „ì²´)ì„ ìˆ˜ì‹", role: "ìˆ˜ì‹ì–´(M) - ë¬¸ì¥ ì„±ë¶„ì— í¬í•¨ë˜ì§€ ì•ŠìŒ" },
                    { term: "Preposition (ì „ì¹˜ì‚¬)", def: "ëª…ì‚¬ ì•ì— ë†“ì—¬ ì‹œê°„, ì¥ì†Œ, ë°©í–¥ ë“±ì„ ë‚˜íƒ€ëƒ„", role: "ì „ì¹˜ì‚¬+ëª…ì‚¬ = í˜•ìš©ì‚¬êµ¬ ë˜ëŠ” ë¶€ì‚¬êµ¬" },
                    { term: "Conjunction (ì ‘ì†ì‚¬)", def: "ë‹¨ì–´ì™€ ë‹¨ì–´, êµ¬ì™€ êµ¬, ì ˆê³¼ ì ˆì„ ì—°ê²°", role: "ì—°ê²° ê³ ë¦¬" },
                    { term: "Interjection (ê°íƒ„ì‚¬)", def: "ê¸°ì¨, ìŠ¬í””, ë†€ëŒ ë“±ì˜ ê°ì • í‘œí˜„", role: "ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš©" }
                ]
            },
            "components": {
                id: "components",
                title: "2. ë¬¸ì¥ ì„±ë¶„ (Sentence Components)",
                subtitle: "ì¬ë£Œ(í’ˆì‚¬)ê°€ ë¬¸ì¥ ì•ˆì—ì„œ ë§¡ëŠ” ì—­í•  (Roles)",
                items: [
                    { term: "Subject (ì£¼ì–´ - S)", def: "ë™ì‘ì˜ ì£¼ì²´ ('~ì€/ëŠ”/ì´/ê°€')", formula: "ëª…ì‚¬, ëŒ€ëª…ì‚¬, ëª…ì‚¬êµ¬/ì ˆ" },
                    { term: "Verb (ë™ì‚¬/ì„œìˆ ì–´ - V)", def: "ì£¼ì–´ì˜ ë™ì‘ì´ë‚˜ ìƒíƒœ ('~í•˜ë‹¤/ì´ë‹¤')", formula: "ë™ì‚¬" },
                    { term: "Object (ëª©ì ì–´ - O)", def: "ë™ì‘ì˜ ëŒ€ìƒ ('~ì„/ë¥¼')", formula: "ëª…ì‚¬, ëŒ€ëª…ì‚¬" },
                    { term: "Complement (ë³´ì–´ - C)", def: "ì£¼ì–´ë‚˜ ëª©ì ì–´ë¥¼ ë³´ì¶© ì„¤ëª…", formula: "ëª…ì‚¬(ë™ê²©), í˜•ìš©ì‚¬(ìƒíƒœ)" },
                    { term: "Modifier (ìˆ˜ì‹ì–´ - M)", def: "ë¬¸ì¥ì˜ í•„ìˆ˜ ì„±ë¶„ì€ ì•„ë‹ˆì§€ë§Œ ì˜ë¯¸ë¥¼ í’ë¶€í•˜ê²Œ í•¨", formula: "í˜•ìš©ì‚¬, ë¶€ì‚¬, ì „ëª…êµ¬" }
                ]
            },
            "structures": {
                id: "structures",
                title: "3. ë¬¸ì¥ì˜ 5í˜•ì‹ (The 5 Sentence Structures)",
                subtitle: "ì˜ì–´ ë¬¸ì¥ì´ ì¡°ë¦½ë˜ëŠ” 5ê°€ì§€ ì ˆëŒ€ ê³µì‹ (Formulas)",
                items: [
                    { term: "1í˜•ì‹", def: "ì™„ì „ ìë™ì‚¬", formula: "S + V (+ M)", note: "ì£¼ì–´ì™€ ë™ì‚¬ë§Œìœ¼ë¡œ ë§ì´ ë¨. (ex. Birds fly.)" },
                    { term: "2í˜•ì‹", def: "ë¶ˆì™„ì „ ìë™ì‚¬", formula: "S + V + C", note: "ì£¼ì–´ë¥¼ ë³´ì¶©í•˜ëŠ” ë§ì´ í•„ìš”í•¨. (ex. I am a student / happy.)" },
                    { term: "3í˜•ì‹", def: "ì™„ì „ íƒ€ë™ì‚¬", formula: "S + V + O", note: "ëŒ€ìƒ(ëª©ì ì–´)ì´ í•„ìš”í•¨. (ex. I love you.)" },
                    { term: "4í˜•ì‹", def: "ìˆ˜ì—¬ ë™ì‚¬", formula: "S + V + I.O + D.O", note: "~ì—ê²Œ(I.O) ~ì„(D.O) ì£¼ë‹¤. (ex. He gave me a book.)" },
                    { term: "5í˜•ì‹", def: "ë¶ˆì™„ì „ íƒ€ë™ì‚¬", formula: "S + V + O + O.C", note: "ëª©ì ì–´ì˜ ìƒíƒœ/ë™ì‘ ë³´ì¶©. (ex. You make me happy.)" }
                ]
            },
            "units": {
                id: "units",
                title: "4. êµ¬ì™€ ì ˆ (Phrase & Clause)",
                subtitle: "ë‹¨ì–´ì˜ í™•ì¥ ë‹¨ìœ„ (Extended Units)",
                items: [
                    { term: "Phrase (êµ¬)", def: "ë‘ ê°œ ì´ìƒì˜ ë‹¨ì–´ê°€ ëª¨ì—¬ í•˜ë‚˜ì˜ í’ˆì‚¬ ì—­í• . (ì£¼ì–´+ë™ì‚¬ ì—†ìŒ)", example: "in the room (ì „ëª…êµ¬), to study hard (íˆ¬ë¶€ì •ì‚¬êµ¬)" },
                    { term: "Clause (ì ˆ)", def: "ë‘ ê°œ ì´ìƒì˜ ë‹¨ì–´ê°€ ëª¨ì—¬ í•˜ë‚˜ì˜ í’ˆì‚¬ ì—­í• . (ì£¼ì–´+ë™ì‚¬ ìˆìŒ)", example: "that he is rich (ëª…ì‚¬ì ˆ), when I was young (ë¶€ì‚¬ì ˆ)" }
                ]
            }
        };

        /**
         * [State Management]
         * ì•±ì˜ í˜„ì¬ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤.
         */
        let appState = {
            activeTab: "partsOfSpeech", // í˜„ì¬ ì„ íƒëœ íƒ­
            memorizationMode: false,    // ì•”ê¸° ëª¨ë“œ í™œì„±í™” ì—¬ë¶€
            revealedItems: {}           // ì•”ê¸° ëª¨ë“œì—ì„œ ì •ë‹µì´ ê³µê°œëœ í•­ëª©ë“¤
        };

        /**
         * [Functions] 
         * ë¡œì§ ì²˜ë¦¬ í•¨ìˆ˜ë“¤
         */
        
        // ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
        function updateState(newState) {
            appState = { ...appState, ...newState };
            renderApp();
        }

        // íƒ­ ë³€ê²½
        function switchTab(tabId) {
            updateState({ 
                activeTab: tabId, 
                revealedItems: {} // íƒ­ ë³€ê²½ ì‹œ ê³µê°œ ìƒíƒœ ì´ˆê¸°í™”
            });
        }

        // ì•”ê¸° ëª¨ë“œ í† ê¸€
        function toggleMode() {
            updateState({ 
                memorizationMode: !appState.memorizationMode,
                revealedItems: {} // ëª¨ë“œ ë³€ê²½ ì‹œ ê³µê°œ ìƒíƒœ ì´ˆê¸°í™”
            });
        }

        // ì¹´ë“œ í´ë¦­ ì‹œ ì •ë‹µ ê³µê°œ/ë¹„ê³µê°œ í† ê¸€
        function toggleReveal(index) {
            if (!appState.memorizationMode) return; // í•™ìŠµ ëª¨ë“œì¼ ë•ŒëŠ” í´ë¦­ ë¬´ì‹œ

            const newRevealed = { ...appState.revealedItems };
            if (newRevealed[index]) {
                delete newRevealed[index];
            } else {
                newRevealed[index] = true;
            }
            updateState({ revealedItems: newRevealed });
        }

        /**
         * [Render]
         * HTML UIë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
         */
        function renderApp() {
            const app = document.getElementById('app');
            const currentData = grammarData[appState.activeTab];
            const isDrillMode = appState.memorizationMode;

            // 1. í—¤ë” ìƒì„±
            const headerHTML = `
                <header class="bg-slate-900 text-white shadow-lg sticky top-0 z-10 transition-colors">
                    <div class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center">
                        <div class="flex items-center space-x-3">
                            <div class="bg-blue-600 p-2 rounded-lg shadow-lg">
                                <i data-lucide="calculator" class="text-white w-6 h-6"></i>
                            </div>
                            <div>
                                <h1 class="text-xl font-bold leading-tight">English Grammar Formulas</h1>
                                <p class="text-xs text-slate-400 font-mono">Prerequisite for Logic & Composition</p>
                            </div>
                        </div>
                        
                        <button onclick="toggleMode()" 
                            class="flex items-center space-x-2 px-4 py-2 rounded-full transition-all duration-300 transform active:scale-95 ${isDrillMode ? 'bg-red-500 hover:bg-red-600 text-white shadow-red-200 shadow-md' : 'bg-slate-700 hover:bg-slate-600 text-slate-200'}">
                            <i data-lucide="${isDrillMode ? 'eye-off' : 'eye'}" class="w-4 h-4"></i>
                            <span class="text-sm font-medium">${isDrillMode ? 'Drill Mode On' : 'Study Mode'}</span>
                        </button>
                    </div>
                </header>
            `;

            // 2. íƒ­ ë²„íŠ¼ ìƒì„±
            const tabsHTML = Object.values(grammarData).map(data => {
                const isActive = appState.activeTab === data.id;
                return `
                    <button onclick="switchTab('${data.id}')"
                        class="whitespace-nowrap px-5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${isActive ? 'bg-blue-600 text-white shadow-md transform scale-105' : 'bg-white text-slate-600 hover:bg-slate-100 border border-slate-200'}">
                        ${data.title.split('.')[1].trim()}
                    </button>
                `;
            }).join('');

            // 3. ë©”ì¸ ì½˜í…ì¸ (ì¹´ë“œ) ìƒì„±
            const cardsHTML = currentData.items.map((item, index) => {
                const isRevealed = appState.revealedItems[index];
                const showContent = !isDrillMode || isRevealed; // í•™ìŠµ ëª¨ë“œì´ê±°ë‚˜, ì´ë¯¸ ê³µê°œëœ ê²½ìš° ë‚´ìš© í‘œì‹œ

                // ì¹´ë“œ í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼ ê²°ì •
                let borderClass = "border-slate-100 shadow-sm hover:border-slate-300";
                if (isDrillMode) {
                    borderClass = isRevealed 
                        ? "border-green-500 shadow-md" 
                        : "border-slate-200 hover:border-blue-400 hover:shadow-lg cursor-pointer";
                }

                // ì•„ì´ì½˜ ê²°ì •
                let iconHTML = '';
                if (isDrillMode && !isRevealed) {
                    iconHTML = `<span class="text-xs font-bold text-blue-500 bg-blue-50 px-2 py-1 rounded flex items-center gap-1"><i data-lucide="mouse-pointer-click" class="w-3 h-3"></i> Click</span>`;
                } else if (isDrillMode && isRevealed) {
                    iconHTML = `<i data-lucide="check-circle" class="text-green-500 w-5 h-5"></i>`;
                }

                // ì¹´ë“œ ë‚´ë¶€ ë‚´ìš© (ì •ë‹µ/ë¹„ê³µê°œ ì²˜ë¦¬)
                let contentHTML = '';
                if (showContent) {
                    const extraInfo = item.formula || item.role || item.example;
                    const extraLabel = item.formula ? "Formula" : (item.role ? "Role" : "Example");
                    
                    contentHTML = `
                        <div class="space-y-3 fade-in">
                            <div>
                                <span class="text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1">Definition</span>
                                <p class="text-slate-700 font-medium break-keep leading-snug">${item.def}</p>
                            </div>
                            ${extraInfo ? `
                                <div class="bg-slate-50 p-3 rounded-lg border border-slate-100">
                                    <span class="text-xs font-bold text-blue-600 uppercase tracking-wider block mb-1">${extraLabel}</span>
                                    <p class="text-slate-900 font-mono text-sm break-keep">${extraInfo}</p>
                                    ${item.note ? `<p class="text-slate-500 text-xs mt-1 border-t border-slate-200 pt-1">ğŸ’¡ ${item.note}</p>` : ''}
                                </div>
                            ` : ''}
                        </div>
                    `;
                } else {
                    contentHTML = `
                        <div class="flex flex-col items-center justify-center h-full text-slate-300 space-y-2 py-4">
                            <i data-lucide="brain" class="w-8 h-8 opacity-50"></i>
                            <span class="text-sm font-medium">Recall the Definition</span>
                        </div>
                    `;
                }

                return `
                    <div onclick="toggleReveal(${index})" class="relative group bg-white rounded-xl border-2 transition-all overflow-hidden ${borderClass}">
                        <div class="bg-slate-50 px-5 py-3 border-b border-slate-100 flex justify-between items-center">
                            <span class="font-bold text-slate-800 text-lg">${item.term}</span>
                            ${iconHTML}
                        </div>
                        <div class="p-5 min-h-[140px] flex flex-col justify-center">
                            ${contentHTML}
                        </div>
                    </div>
                `;
            }).join('');

            // 4. HTML ì¡°ë¦½ ë° ë Œë”ë§
            app.innerHTML = `
                ${headerHTML}
                
                <main class="max-w-4xl mx-auto px-4 mt-8">
                    <!-- ê°€ì´ë“œ ë°•ìŠ¤ -->
                    <div class="bg-white border-l-4 border-blue-600 rounded-r-lg shadow-sm p-6 mb-8">
                        <h2 class="text-lg font-bold text-slate-900 mb-2 flex items-center gap-2">
                            <i data-lucide="book-open" class="w-5 h-5 text-blue-600"></i>
                            êµìˆ˜ë‹˜ì˜ í•™ìŠµ ê°€ì´ë“œ
                        </h2>
                        <p class="text-slate-600 text-sm leading-relaxed">
                            ì˜ì–´ ë¬¸ë²•ì€ <strong>ìˆ˜í•™ ê³µì‹</strong>ê³¼ ê°™ìŠµë‹ˆë‹¤. ë¬¸ì¥ì˜ ë…¼ë¦¬ì  ì–´ìˆœì„ ì´í•´í•˜ê¸° ì „ì—, 
                            ì´ í˜ì´ì§€ì— ìˆëŠ” <strong>ê¸°ë³¸ ìš©ì–´(Variables)</strong>ì™€ <strong>ê³µì‹(Functions)</strong>ì„ 
                            êµ¬êµ¬ë‹¨ì²˜ëŸ¼ ë¨¼ì € ì•”ê¸°í•´ì•¼ í•©ë‹ˆë‹¤. ìš°ì¸¡ ìƒë‹¨ì˜ <strong class="text-slate-800">'Drill Mode'</strong>ë¥¼ ì¼œê³  ë¹ˆì¹¸ì„ ìŠ¤ìŠ¤ë¡œ ì±„ì›Œë³´ì„¸ìš”.
                        </p>
                    </div>

                    <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
                    <div class="flex overflow-x-auto space-x-2 mb-6 pb-2 scrollbar-hide">
                        ${tabsHTML}
                    </div>

                    <!-- ë©”ì¸ ê·¸ë¦¬ë“œ -->
                    <div class="fade-in">
                        <div class="mb-6">
                            <h2 class="text-2xl font-bold text-slate-800">${currentData.title}</h2>
                            <p class="text-slate-500 mt-1">${currentData.subtitle}</p>
                        </div>
                        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-2">
                            ${cardsHTML}
                        </div>
                    </div>
                </main>

                <footer class="max-w-4xl mx-auto px-4 mt-12 text-center text-slate-400 text-sm pb-8">
                    <p>Â© 2026. Designed for Logical Grammar Learning.</p>
                    <p class="mt-1 text-xs">Based on Principles of Engineering & Computer Science</p>
                </footer>
            `;

            // 5. ì•„ì´ì½˜ ë Œë”ë§ ì‹¤í–‰
            lucide.createIcons();
        }

        // ì´ˆê¸° ì‹¤í–‰
        renderApp();

    </script>
</body>
</html>