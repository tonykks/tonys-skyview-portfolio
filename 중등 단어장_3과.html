<!DOCTYPE html>
<!--
================================================================================
  GEMINI AI ì˜ì–´ ë‹¨ì–´ í€´ì¦ˆ ë§ˆìŠ¤í„° í…œí”Œë¦¿ (ìµœì¢… ë²„ì „)
================================================================================
  í…œí”Œë¦¿ ì´ë¦„: ì¤‘ë“± í•„ìˆ˜ ë‹¨ì–´/ìˆ™ì–´ í€´ì¦ˆ (ìµœì¢… í…œí”Œë¦¿)
  ì œì‘ ìš”ì²­ì: ì„ ìƒë‹˜
  ìµœì¢… ì—…ë°ì´íŠ¸: 2025ë…„ 8ì›” 25ì¼

  ## í•µì‹¬ ê¸°ëŠ¥ ë° ê·œì¹™ (AI í•„ë…!) ##
  1. ì œê³µë˜ëŠ” ë‹¨ì–´ ëª©ë¡ ì´ë¯¸ì§€(ì‚¬ì§„)ë¥¼ ë¶„ì„í•˜ì—¬ ì•„ë˜ 'const words' ë°°ì—´ì„ êµì²´í•œë‹¤.
     1.1. (ì¤‘ìš”!) 'êµê³¼ì„œ ì–´íœ˜' ì„¹ì…˜ì˜ 'Words', 'Phrases', 'English-English Dictionary'ì— 
          ìˆëŠ” ëª¨ë“  ë‹¨ì–´ì™€ ìˆ™ì–´ë¥¼ ë¹ ì§ì—†ì´ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
  2. ëª¨ë“  í€´ì¦ˆëŠ” í‘œì œì–´ì˜ í’ˆì‚¬ì™€ ìƒê´€ì—†ì´, ì˜ˆë¬¸ ì† 'ë™ì‚¬'ì˜ ì˜¬ë°”ë¥¸ í˜•íƒœë¥¼ ë¬»ëŠ” ë¬¸ì œë¡œ ì¶œì œí•´ì•¼ í•œë‹¤.
     (ì˜ˆ: í‘œì œì–´ê°€ ëª…ì‚¬ 'restaurant'ë¼ë„, ì˜ˆë¬¸ "Let's (go) to a restaurant."ì—ì„œ 'go'ë¥¼ í€´ì¦ˆë¡œ ì¶œì œ)
  2.1. (ë§¤ìš° ì¤‘ìš”!) ìœ„ 2ë²ˆ ê·œì¹™ì€ í‘œì œì–´ê°€ ëª…ì‚¬, í˜•ìš©ì‚¬, ë¶€ì‚¬ì¼ ê²½ìš°ì—ë„ ë°˜ë“œì‹œ ì§€ì¼œì ¸ì•¼ í•©ë‹ˆë‹¤. 
       í‘œì œì–´ ìì²´ë¥¼ ì •ë‹µìœ¼ë¡œ ë§Œë“œëŠ” ì˜¤ë¥˜ë¥¼ ë°˜ë³µí•˜ì§€ ì•Šë„ë¡ ê°ë³„íˆ ì£¼ì˜í•˜ì„¸ìš”.
  3. 4ì§€ì„ ë‹¤ ë³´ê¸°ëŠ” ë™ì‚¬ì˜ ì›í˜•, 3ì¸ì¹­ ë‹¨ìˆ˜í˜•, ê³¼ê±°í˜•, ì§„í–‰í˜• ë“± ë‹¤ì–‘í•œ í˜•íƒœë¡œ êµ¬ì„±í•œë‹¤.
  4. ë™ì‚¬ëŠ” 3ë‹¨ ë³€í™”í˜•, ëª…ì‚¬ëŠ” ë‹¨/ë³µìˆ˜í˜•ì„ 'word-forms' ì˜ì—­ì— í‘œì‹œí•œë‹¤.
  5. ëª¨ë“  ìŒì„± ì¬ìƒ(ë‹¨ì–´, ë¬¸ì¥)ì€ ê¸°ê¸° ë‚´ì¥ TTSê°€ ì•„ë‹Œ Google TTS ë§í¬ë¥¼ ì‚¬ìš©í•´ ê¸°ê¸° ê°„ í¸ì°¨ ì—†ì´ ì•ˆì •ì ìœ¼ë¡œ ì œê³µí•œë‹¤.
  6. ì ìˆ˜íŒì€ ìƒë‹¨ì— ê³ ì •(sticky)ë˜ì–´ ìŠ¤í¬ë¡¤í•´ë„ í•­ìƒ ë³´ì—¬ì•¼ í•œë‹¤.
  7. 'ë‹¤ì‹œ í’€ê¸°' ë²„íŠ¼ì€ ëª¨ë“  ë¬¸ì œë¥¼ ë‹¤ í’€ê¸° ì „ê¹Œì§€ ë¹„í™œì„±í™” ìƒíƒœë¥¼ ìœ ì§€í•œë‹¤.

================================================================================
  ## ì¶”ì²œ í”„ë¡¬í”„íŠ¸ (ì´ í…œí”Œë¦¿ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ì„¸ìš”) ##

  í”„ë¡¬í”„íŠ¸: ì´ ì½”ë“œë¥¼ í…œí”Œë¦¿ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , í•¨ê»˜ ì œê³µëœ ì‚¬ì§„ ì† 'êµê³¼ì„œ ì–´íœ˜'ì˜ ëª¨ë“  ë‹¨ì–´ì™€ ìˆ™ì–´ë¥¼ ì´ìš©í•´ ë‹¨ì–´ í€´ì¦ˆë¥¼ ë§Œë“¤ì–´ ì¤˜. ëª¨ë“  í€´ì¦ˆëŠ” í‘œì œì–´ì˜ í’ˆì‚¬ì™€ ê´€ê³„ì—†ì´, ì˜ˆë¬¸ ì† 'ë™ì‚¬'ì˜ ì˜¬ë°”ë¥¸ í˜•íƒœë¥¼ ë¬»ëŠ” ë¬¸ì œì—¬ì•¼ í•´.
================================================================================
-->
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¤‘ë“± í•„ìˆ˜ ë‹¨ì–´/ìˆ™ì–´ í€´ì¦ˆ (3ê³¼ - ìµœì¢… í…œí”Œë¦¿)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Gowun Dodum', sans-serif;
        }
        .card-container {
            perspective: 1000px;
            cursor: pointer;
        }
        .card {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .card.flipped {
            transform: rotateY(180deg);
        }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .card-front {
            background-color: #93c5fd; /* bg-blue-300 */
            color: #1e3a8a; /* text-blue-900 */
        }
        .card-back {
            background-color: #eff6ff; /* bg-blue-50 */
            color: #1e40af; /* text-blue-800 */
            transform: rotateY(180deg);
            flex-direction: column;
            padding: 1rem;
            justify-content: space-around;
            align-items: center;
            text-align: center;
        }
        .play-btn {
            background-color: #60a5fa; /* bg-blue-400 */
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .play-btn:hover {
            background-color: #3b82f6; /* bg-blue-500 */
        }
        /* ë‹¨ì–´ ë³€í™”í˜• ìŠ¤íƒ€ì¼ */
        .word-forms {
            background-color: #dbeafe;
            padding: 4px 12px;
            border-radius: 8px;
            font-style: italic;
        }
        /* 4ì§€ì„ ë‹¤í˜• í€´ì¦ˆ ìŠ¤íƒ€ì¼ */
        .quiz-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            width: 100%;
            padding: 0 1rem;
        }
        .option-btn {
            background-color: white;
            border: 2px solid #60a5fa;
            color: #1e40af;
            padding: 0.5rem;
            border-radius: 0.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option-btn:hover:not(:disabled) {
            background-color: #dbeafe;
        }
        .option-btn.correct {
            background-color: #34d399; /* bg-emerald-400 */
            border-color: #059669; /* border-emerald-600 */
            color: white;
        }
        .option-btn.incorrect {
            background-color: #f87171; /* bg-red-400 */
            border-color: #dc2626; /* border-red-600 */
            color: white;
        }
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        /* ì ìˆ˜íŒ ìŠ¤íƒ€ì¼ */
        #score-board {
            background-color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: nowrap; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
        }
        #reset-btn {
            background-color: #fb923c;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.2s;
            flex-shrink: 0; /* ë²„íŠ¼ í¬ê¸° ìœ ì§€ */
        }
        #reset-btn:hover:not(:disabled) {
            background-color: #f97316;
        }
        #reset-btn:disabled {
            background-color: #9ca3af; /* gray-400 */
            cursor: not-allowed;
        }
        /* ë¬¸ì¥ ì½ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .sentence-play-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            vertical-align: middle;
            margin-left: 0.25rem;
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
            color: #2563eb;
            transition: color 0.2s;
        }
        .sentence-play-btn:hover {
            color: #1d4ed8;
        }
    </style>
</head>
<body class="bg-blue-100">

    <header class="sticky top-0 z-10 bg-blue-100 py-4 shadow-sm">
        <div class="max-w-5xl mx-auto text-center px-4">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-800" style="font-family: 'Noto Sans KR', sans-serif;">ì¤‘ë“± í•„ìˆ˜ ë‹¨ì–´/ìˆ™ì–´ í€´ì¦ˆ âœï¸</h1>
            <p class="text-gray-600 mt-2 mb-6">ì¹´ë“œ ë’·ë©´ì˜ ë³´ê¸° ì¤‘ ì•Œë§ì€ ë™ì‚¬ë¥¼ ì„ íƒí•´ë³´ì„¸ìš”!</p>
            <div id="score-board" class="max-w-xl mx-auto">
                <span id="score-text" class="text-lg font-bold text-blue-800 whitespace-nowrap">ì ìˆ˜: 0ì  / 0ì </span>
                <span id="percentage-text" class="text-sm text-gray-600 whitespace-nowrap">ì •ë‹µë¥ : 0.0% (0/0)</span>
                <button id="reset-btn">ë‹¤ì‹œ í’€ê¸° ğŸ”„</button>
            </div>
        </div>
    </header>

    <main class="p-4 sm:p-8">
        <div id="card-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-6 max-w-4xl mx-auto">
            <!-- ë‹¨ì–´ ì¹´ë“œëŠ” JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
        </div>
    </main>

    <script>
        const words = [
            // Words
            { eng: 'bake', pos: 'ë™ì‚¬', kor: 'êµ½ë‹¤', ipa: '[beÉªk]', kor_pron: 'ë² ì´í¬', forms: 'bake - baked - baked', sentence_parts: { p1: 'My mom', verb: 'bakes', p2: 'delicious cookies.' }, options: ['bake', 'bakes', 'baked', 'baking'], sentence_kor: 'ìš°ë¦¬ ì—„ë§ˆëŠ” ë§›ìˆëŠ” ì¿ í‚¤ë¥¼ êµ¬ìš°ì‹ ë‹¤.' },
            { eng: 'prepare', pos: 'ë™ì‚¬', kor: 'ì¤€ë¹„í•˜ë‹¤', ipa: '[prÉªËˆper]', kor_pron: 'í”„ë¦¬í˜ì–´', forms: 'prepare - prepared - prepared', sentence_parts: { p1: 'You should', verb: 'prepare', p2: 'for the exam.' }, options: ['prepare', 'prepares', 'prepared', 'preparing'], sentence_kor: 'ë„ˆëŠ” ì‹œí—˜ì„ ì¤€ë¹„í•´ì•¼ í•œë‹¤.' },
            { eng: 'boil', pos: 'ë™ì‚¬', kor: 'ë“ë‹¤, ì‚¶ë‹¤', ipa: '[bÉ”Éªl]', kor_pron: 'ë³´ì¼', forms: 'boil - boiled - boiled', sentence_parts: { p1: 'The water is', verb: 'boiling', p2: 'in the pot.' }, options: ['boil', 'boils', 'boiled', 'boiling'], sentence_kor: 'ëƒ„ë¹„ì—ì„œ ë¬¼ì´ ë“ê³  ìˆë‹¤.' },
            { eng: 'shine', pos: 'ë™ì‚¬', kor: 'ë¹›ë‚˜ë‹¤', ipa: '[ÊƒaÉªn]', kor_pron: 'ìƒ¤ì¸', forms: 'shine - shone - shone', sentence_parts: { p1: 'The sun', verb: 'shone', p2: 'brightly yesterday.' }, options: ['shine', 'shines', 'shone', 'shining'], sentence_kor: 'ì–´ì œëŠ” í•´ê°€ ë°ê²Œ ë¹›ë‚¬ë‹¤.' },
            { eng: 'blow', pos: 'ë™ì‚¬', kor: 'ë¶ˆë‹¤', ipa: '[bloÊŠ]', kor_pron: 'ë¸”ë¡œìš°', forms: 'blow - blew - blown', sentence_parts: { p1: 'The wind', verb: 'blew', p2: 'all night long.' }, options: ['blow', 'blows', 'blew', 'blowing'], sentence_kor: 'ë°”ëŒì´ ë°¤ìƒˆë„ë¡ ë¶ˆì—ˆë‹¤.' },
            { eng: 'serve', pos: 'ë™ì‚¬', kor: 'ì œê³µí•˜ë‹¤', ipa: '[sÉœËrv]', kor_pron: 'ì„œë¸Œ', forms: 'serve - served - served', sentence_parts: { p1: 'They', verb: 'serve', p2: 'breakfast until 10 AM.' }, options: ['serve', 'serves', 'served', 'serving'], sentence_kor: 'ê·¸ë“¤ì€ ì˜¤ì „ 10ì‹œê¹Œì§€ ì•„ì¹¨ ì‹ì‚¬ë¥¼ ì œê³µí•œë‹¤.' },
            { eng: 'enough', pos: 'í˜•ìš©ì‚¬', kor: 'ì¶©ë¶„í•œ', ipa: '[ÉªËˆnÊŒf]', kor_pron: 'ì´ë„ˆí”„', forms: 'enough (adj.)', sentence_parts: { p1: 'I think we', verb: 'have', p2: 'enough time.' }, options: ['have', 'has', 'had', 'having'], sentence_kor: 'ë‚´ ìƒê°ì— ìš°ë¦¬ëŠ” ì‹œê°„ì´ ì¶©ë¶„í•˜ë‹¤.' },
            { eng: 'delicious', pos: 'í˜•ìš©ì‚¬', kor: 'ì•„ì£¼ ë§›ìˆëŠ”', ipa: '[dÉªËˆlÉªÊƒÉ™s]', kor_pron: 'ë”œë¦¬ì…”ìŠ¤', forms: 'delicious (adj.)', sentence_parts: { p1: 'This pizza', verb: 'tastes', p2: 'so delicious.' }, options: ['taste', 'tastes', 'tasted', 'tasting'], sentence_kor: 'ì´ í”¼ìëŠ” ì •ë§ ë§›ìˆëŠ” ë§›ì´ ë‚œë‹¤.' },
            { eng: 'spicy', pos: 'í˜•ìš©ì‚¬', kor: 'ì–‘ë… ë§›ì´ ê°•í•œ', ipa: '[ËˆspaÉªsi]', kor_pron: 'ìŠ¤íŒŒì´ì‹œ', forms: 'spicy (adj.)', sentence_parts: { p1: 'I', verb: 'like', p2: 'spicy food.' }, options: ['like', 'likes', 'liked', 'liking'], sentence_kor: 'ë‚˜ëŠ” ë§¤ìš´ ìŒì‹ì„ ì¢‹ì•„í•œë‹¤.' },
            { eng: 'extreme', pos: 'í˜•ìš©ì‚¬', kor: 'ê·¹ì‹¬í•œ, ì‹¬ê°í•œ', ipa: '[ÉªkËˆstriËm]', kor_pron: 'ìµìŠ¤íŠ¸ë¦¼', forms: 'extreme (adj.)', sentence_parts: { p1: 'The heat in the desert', verb: 'was', p2: 'extreme.' }, options: ['is', 'are', 'was', 'were'], sentence_kor: 'ì‚¬ë§‰ì˜ ë”ìœ„ëŠ” ê·¹ì‹¬í–ˆë‹¤.' },
            { eng: 'lovely', pos: 'í˜•ìš©ì‚¬', kor: 'ì‚¬ë‘ìŠ¤ëŸ¬ìš´', ipa: '[ËˆlÊŒvli]', kor_pron: 'ëŸ¬ë¸”ë¦¬', forms: 'lovely (adj.)', sentence_parts: { p1: 'It', verb: 'is', p2: 'a lovely day for a picnic.' }, options: ['is', 'are', 'was', 'be'], sentence_kor: 'ì†Œí’ ê°€ê¸°ì— ì •ë§ ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ë‚ ì”¨ë‹¤.' },
            { eng: 'cool', pos: 'í˜•ìš©ì‚¬', kor: 'ì‹œì›í•œ, ë©‹ì§„', ipa: '[kuËl]', kor_pron: 'ì¿¨', forms: 'cool (adj.)', sentence_parts: { p1: 'A cool breeze', verb: 'is blowing', p2: 'from the sea.' }, options: ['blow', 'blows', 'blew', 'is blowing'], sentence_kor: 'ë°”ë‹¤ì—ì„œ ì‹œì›í•œ ë°”ëŒì´ ë¶ˆì–´ì˜¤ê³  ìˆë‹¤.' },
            { eng: 'bright', pos: 'í˜•ìš©ì‚¬', kor: 'ë°ì€, ë˜‘ë˜‘í•œ', ipa: '[braÉªt]', kor_pron: 'ë¸Œë¼ì´íŠ¸', forms: 'bright (adj.)', sentence_parts: { p1: 'Your future', verb: 'looks', p2: 'very bright.' }, options: ['look', 'looks', 'looked', 'looking'], sentence_kor: 'ë„ˆì˜ ë¯¸ë˜ëŠ” ë§¤ìš° ë°ì•„ ë³´ì¸ë‹¤.' },
            { eng: 'fresh', pos: 'í˜•ìš©ì‚¬', kor: 'ì‹ ì„ í•œ', ipa: '[freÊƒ]', kor_pron: 'í”„ë ˆì‰¬', forms: 'fresh (adj.)', sentence_parts: { p1: 'I', verb: 'want', p2: 'to get some fresh air.' }, options: ['want', 'wants', 'wanted', 'wanting'], sentence_kor: 'ë‚˜ëŠ” ì‹ ì„ í•œ ê³µê¸°ë¥¼ ì¢€ ì¬ê³  ì‹¶ë‹¤.' },
            { eng: 'warm', pos: 'í˜•ìš©ì‚¬', kor: 'ë”°ëœ»í•œ', ipa: '[wÉ”Ërm]', kor_pron: 'ì›œ', forms: 'warm (adj.)', sentence_parts: { p1: 'Please', verb: 'keep', p2: 'this soup warm.' }, options: ['keep', 'keeps', 'kept', 'keeping'], sentence_kor: 'ì´ ìˆ˜í”„ë¥¼ ë”°ëœ»í•˜ê²Œ ìœ ì§€í•´ì£¼ì„¸ìš”.' },
            { eng: 'heavy', pos: 'í˜•ìš©ì‚¬', kor: 'ë¬´ê±°ìš´', ipa: '[ËˆhÉ›vi]', kor_pron: 'í—¤ë¹„', forms: 'heavy (adj.)', sentence_parts: { p1: 'This box', verb: 'is', p2: 'too heavy to lift.' }, options: ['is', 'are', 'was', 'be'], sentence_kor: 'ì´ ìƒìëŠ” ë„ˆë¬´ ë¬´ê±°ì›Œì„œ ë“¤ ìˆ˜ ì—†ë‹¤.' },
            { eng: 'sudden', pos: 'í˜•ìš©ì‚¬', kor: 'ê°‘ì‘ìŠ¤ëŸ¬ìš´', ipa: '[ËˆsÊŒdn]', kor_pron: 'ì„œë“ ', forms: 'sudden (adj.)', sentence_parts: { p1: 'There', verb: 'was', p2: 'a sudden change in the weather.' }, options: ['is', 'are', 'was', 'were'], sentence_kor: 'ë‚ ì”¨ì— ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë³€í™”ê°€ ìˆì—ˆë‹¤.' },
            { eng: 'restaurant', pos: 'ëª…ì‚¬', kor: 'ì‹ë‹¹', ipa: '[ËˆrestrÉ‘Ënt]', kor_pron: 'ë ˆìŠ¤íŠ¸ëŸ°íŠ¸', forms: 'restaurant / restaurants', sentence_parts: { p1: 'Let\'s', verb: 'go', p2: 'to a new restaurant.' }, options: ['go', 'goes', 'went', 'going'], sentence_kor: 'ìƒˆë¡œìš´ ì‹ë‹¹ì— ê°€ì.' },
            { eng: 'bowl', pos: 'ëª…ì‚¬', kor: 'ê·¸ë¦‡', ipa: '[boÊŠl]', kor_pron: 'ë³´ìš¸', forms: 'bowl / bowls', sentence_parts: { p1: 'He', verb: 'ate', p2: 'a bowl of soup.' }, options: ['eat', 'eats', 'ate', 'eating'], sentence_kor: 'ê·¸ëŠ” ìˆ˜í”„ í•œ ê·¸ë¦‡ì„ ë¨¹ì—ˆë‹¤.' },
            { eng: 'plate', pos: 'ëª…ì‚¬', kor: 'ì ‘ì‹œ', ipa: '[pleÉªt]', kor_pron: 'í”Œë ˆì´íŠ¸', forms: 'plate / plates', sentence_parts: { p1: 'Please', verb: 'put', p2: 'the plate on the table.' }, options: ['put', 'puts', 'putted', 'putting'], sentence_kor: 'ì ‘ì‹œë¥¼ í…Œì´ë¸” ìœ„ì— ë†“ì•„ì£¼ì„¸ìš”.' },
            { eng: 'vegetable', pos: 'ëª…ì‚¬', kor: 'ì±„ì†Œ', ipa: '[ËˆvedÊ’tÉ™bl]', kor_pron: 'ë² ì§€í„°ë¸”', forms: 'vegetable / vegetables', sentence_parts: { p1: 'You should', verb: 'eat', p2: 'more vegetables.' }, options: ['eat', 'eats', 'ate', 'eating'], sentence_kor: 'ë„ˆëŠ” ì±„ì†Œë¥¼ ë” ë§ì´ ë¨¹ì–´ì•¼ í•œë‹¤.' },
            { eng: 'dish', pos: 'ëª…ì‚¬', kor: 'ì ‘ì‹œ, ìš”ë¦¬', ipa: '[dÉªÊƒ]', kor_pron: 'ë””ì‰¬', forms: 'dish / dishes', sentence_parts: { p1: 'My favorite dish', verb: 'is', p2: 'pasta.' }, options: ['is', 'are', 'was', 'be'], sentence_kor: 'ë‚´ê°€ ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ìš”ë¦¬ëŠ” íŒŒìŠ¤íƒ€ì´ë‹¤.' },
            { eng: 'flour', pos: 'ëª…ì‚¬', kor: 'ë°€ê°€ë£¨', ipa: '[ËˆflaÊŠÉ™r]', kor_pron: 'í”Œë¼ì›Œ', forms: 'flour (n.)', sentence_parts: { p1: 'You need flour to', verb: 'make', p2: 'bread.' }, options: ['make', 'makes', 'made', 'making'], sentence_kor: 'ë¹µì„ ë§Œë“¤ë ¤ë©´ ë°€ê°€ë£¨ê°€ í•„ìš”í•˜ë‹¤.' },
            { eng: 'dessert', pos: 'ëª…ì‚¬', kor: 'ë””ì €íŠ¸', ipa: '[dÉªËˆzÉœËrt]', kor_pron: 'ë””ì €íŠ¸', forms: 'dessert / desserts', sentence_parts: { p1: 'What do you', verb: 'want', p2: 'for dessert?' }, options: ['want', 'wants', 'wanted', 'wanting'], sentence_kor: 'ë””ì €íŠ¸ë¡œ ë¬´ì—‡ì„ ì›í•˜ì„¸ìš”?' },
            { eng: 'recipe', pos: 'ëª…ì‚¬', kor: 'ìš”ë¦¬ë²•', ipa: '[ËˆresÉ™pi]', kor_pron: 'ë ˆì„œí”¼', forms: 'recipe / recipes', sentence_parts: { p1: 'She', verb: 'is looking', p2: 'for a cake recipe.' }, options: ['look', 'looks', 'looked', 'is looking'], sentence_kor: 'ê·¸ë…€ëŠ” ì¼€ì´í¬ ìš”ë¦¬ë²•ì„ ì°¾ê³  ìˆë‹¤.' },
            { eng: 'grocery', pos: 'ëª…ì‚¬', kor: 'ì‹ë£Œí’ˆ ì¡í™”ì ', ipa: '[ËˆÉ¡roÊŠsÉ™ri]', kor_pron: 'ê·¸ë¡œì„œë¦¬', forms: 'grocery / groceries', sentence_parts: { p1: 'I need to', verb: 'buy', p2: 'some groceries.' }, options: ['buy', 'buys', 'bought', 'buying'], sentence_kor: 'ë‚˜ëŠ” ì‹ë£Œí’ˆì„ ì¢€ ì‚¬ì•¼ í•œë‹¤.' },
            { eng: 'taste', pos: 'ë™ì‚¬', kor: 'ë§›ì´ ë‚˜ë‹¤, ë§›ë³´ë‹¤', ipa: '[teÉªst]', kor_pron: 'í…Œì´ìŠ¤íŠ¸', forms: 'taste - tasted - tasted', sentence_parts: { p1: 'The soup', verb: 'tastes', p2: 'a little salty.' }, options: ['taste', 'tastes', 'tasted', 'tasting'], sentence_kor: 'ê·¸ ìˆ˜í”„ëŠ” ì•½ê°„ ì§  ë§›ì´ ë‚œë‹¤.' },
            { eng: 'weather', pos: 'ëª…ì‚¬', kor: 'ë‚ ì”¨', ipa: '[ËˆweÃ°É™r]', kor_pron: 'ì›¨ë”', forms: 'weather (n.)', sentence_parts: { p1: 'The weather', verb: 'is', p2: 'nice today.' }, options: ['is', 'are', 'was', 'be'], sentence_kor: 'ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì¢‹ë‹¤.' },
            { eng: 'snowflake', pos: 'ëª…ì‚¬', kor: 'ëˆˆì†¡ì´', ipa: '[ËˆsnoÊŠfleÉªk]', kor_pron: 'ìŠ¤ë…¸ìš°í”Œë ˆì´í¬', forms: 'snowflake / snowflakes', sentence_parts: { p1: 'Snowflakes', verb: 'are falling', p2: 'from the sky.' }, options: ['fall', 'falls', 'fell', 'are falling'], sentence_kor: 'í•˜ëŠ˜ì—ì„œ ëˆˆì†¡ì´ê°€ ë–¨ì–´ì§€ê³  ìˆë‹¤.' },
            { eng: 'maybe', pos: 'ë¶€ì‚¬', kor: 'ì–´ì©Œë©´', ipa: '[ËˆmeÉªbi]', kor_pron: 'ë©”ì´ë¹„', forms: 'maybe (adv.)', sentence_parts: { p1: 'Maybe it', verb: 'will rain', p2: 'tomorrow.' }, options: ['rain', 'rains', 'rained', 'will rain'], sentence_kor: 'ì–´ì©Œë©´ ë‚´ì¼ ë¹„ê°€ ì˜¬ì§€ë„ ëª¨ë¥¸ë‹¤.' },
            // Phrases
            { eng: 'eat out', pos: 'ìˆ™ì–´', kor: 'ì™¸ì‹í•˜ë‹¤', ipa: '[iËt aÊŠt]', kor_pron: 'ì‡ ì•„ì›ƒ', forms: 'eat out - ate out - eaten out', sentence_parts: { p1: 'We often', verb: 'eat out', p2: 'on Fridays.' }, options: ['eat out', 'eats out', 'ate out', 'eating out'], sentence_kor: 'ìš°ë¦¬ëŠ” ê¸ˆìš”ì¼ë§ˆë‹¤ ìì£¼ ì™¸ì‹í•œë‹¤.' },
            { eng: 'do the dishes', pos: 'ìˆ™ì–´', kor: 'ì„¤ê±°ì§€í•˜ë‹¤', ipa: '[du Ã°É™ ËˆdÉªÊƒÉªz]', kor_pron: 'ë‘ ë” ë””ì‹œì¦ˆ', forms: 'do - did - done', sentence_parts: { p1: 'He', verb: 'did', p2: 'the dishes after dinner.' }, options: ['do', 'does', 'did', 'doing'], sentence_kor: 'ê·¸ëŠ” ì €ë… ì‹ì‚¬ í›„ì— ì„¤ê±°ì§€ë¥¼ í–ˆë‹¤.' },
            { eng: 'help yourself', pos: 'ìˆ™ì–´', kor: 'ë§ˆìŒê» ë¨¹ë‹¤', ipa: '[hÉ›lp jÉ™rËˆsÉ›lf]', kor_pron: 'í—¬í”„ ìœ ì–´ì…€í”„', forms: 'help - helped - helped', sentence_parts: { p1: 'Please', verb: 'help', p2: 'yourself to some cookies.' }, options: ['help', 'helps', 'helped', 'helping'], sentence_kor: 'ì¿ í‚¤ë¥¼ ë§ˆìŒê» ë“œì„¸ìš”.' },
            { eng: 'set the table', pos: 'ìˆ™ì–´', kor: 'ìƒì„ ì°¨ë¦¬ë‹¤', ipa: '[sÉ›t Ã°É™ ËˆteÉªbl]', kor_pron: 'ì…‹ ë” í…Œì´ë¸”', forms: 'set - set - set', sentence_parts: { p1: 'Can you', verb: 'set', p2: 'the table for dinner?' }, options: ['set', 'sets', 'setting', 'was setting'], sentence_kor: 'ì €ë… ì‹ì‚¬ ìƒ ì¢€ ì°¨ë ¤ì¤„ë˜?' },
            { eng: 'at once', pos: 'ìˆ™ì–´', kor: 'ì¦‰ì‹œ', ipa: '[Ã¦t wÊŒns]', kor_pron: 'ì•³ ì›ìŠ¤', forms: 'at once (adv.)', sentence_parts: { p1: 'You must', verb: 'come', p2: 'home at once.' }, options: ['come', 'comes', 'came', 'coming'], sentence_kor: 'ë„ˆëŠ” ì¦‰ì‹œ ì§‘ìœ¼ë¡œ ì™€ì•¼ í•œë‹¤.' },
            { eng: 'hurry up', pos: 'ìˆ™ì–´', kor: 'ì„œë‘ë¥´ë‹¤', ipa: '[ËˆhÉœËri ÊŒp]', kor_pron: 'í—ˆë¦¬ ì—…', forms: 'hurry up - hurried up - hurried up', sentence_parts: { p1: 'You need to', verb: 'hurry up', p2: 'or you\'ll be late.' }, options: ['hurry up', 'hurries up', 'hurried up', 'hurrying up'], sentence_kor: 'ì„œë‘ë¥´ì§€ ì•Šìœ¼ë©´ ëŠ¦ì„ ê±°ì•¼.' },
            // English-English Dictionary
            { eng: 'windy', pos: 'í˜•ìš©ì‚¬', kor: 'ë°”ëŒì´ ë§ì´ ë¶€ëŠ”', ipa: '[ËˆwÉªndi]', kor_pron: 'ìœˆë””', forms: 'windy (adj.)', sentence_parts: { p1: 'It', verb: 'was', p2: 'very windy yesterday.' }, options: ['is', 'are', 'was', 'were'], sentence_kor: 'ì–´ì œëŠ” ë°”ëŒì´ ë§ì´ ë¶ˆì—ˆë‹¤.' },
            { eng: 'cloudy', pos: 'í˜•ìš©ì‚¬', kor: 'êµ¬ë¦„ì´ ì”ëœ© ë‚€', ipa: '[ËˆklaÊŠdi]', kor_pron: 'í´ë¼ìš°ë””', forms: 'cloudy (adj.)', sentence_parts: { p1: 'The sky', verb: 'is getting', p2: 'cloudy.' }, options: ['get', 'gets', 'got', 'is getting'], sentence_kor: 'í•˜ëŠ˜ì— êµ¬ë¦„ì´ ë¼ê³  ìˆë‹¤.' },
            { eng: 'thirsty', pos: 'í˜•ìš©ì‚¬', kor: 'ëª©ì´ ë§ˆë¥¸', ipa: '[ËˆÎ¸ÉœËrsti]', kor_pron: 'ì¨ìŠ¤í‹°', forms: 'thirsty (adj.)', sentence_parts: { p1: 'I', verb: 'am', p2: 'so thirsty after the run.' }, options: ['is', 'are', 'am', 'be'], sentence_kor: 'ë‹¬ë¦¬ê¸° í›„ì— ë„ˆë¬´ ëª©ì´ ë§ˆë¥´ë‹¤.' },
            { eng: 'hungry', pos: 'í˜•ìš©ì‚¬', kor: 'ë°°ê³ í”ˆ', ipa: '[ËˆhÊŒÅ‹É¡ri]', kor_pron: 'í—ê·¸ë¦¬', forms: 'hungry (adj.)', sentence_parts: { p1: 'The children', verb: 'were', p2: 'hungry and tired.' }, options: ['is', 'are', 'was', 'were'], sentence_kor: 'ì•„ì´ë“¤ì€ ë°°ê³ í”„ê³  ì§€ì³¤ë‹¤.' }
        ];

        const cardGrid = document.getElementById('card-grid');
        const scoreText = document.getElementById('score-text');
        const percentageText = document.getElementById('percentage-text');
        const resetButton = document.getElementById('reset-btn');
        
        let currentScore = 0;
        let answeredCount = 0;
        const totalProblems = words.length;
        const maxScore = totalProblems * 10;
        
        function speak(text) {
            const existingAudio = document.getElementById('tts-audio-player');
            if (existingAudio) {
                existingAudio.pause();
                document.body.removeChild(existingAudio);
            }
            const encodedText = encodeURIComponent(text);
            const audioUrl = `https://translate.google.com/translate_tts?ie=UTF-8&tl=en-US&client=tw-ob&q=${encodedText}`;
            const audio = new Audio(audioUrl);
            audio.id = 'tts-audio-player';
            document.body.appendChild(audio);
            audio.play();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function updateScoreDisplay() {
            const correctAnswers = currentScore / 10;
            const percentage = answeredCount > 0 ? (correctAnswers / answeredCount * 100).toFixed(1) : 0;
            scoreText.textContent = `ì ìˆ˜: ${currentScore}ì  / ${maxScore}ì `;
            percentageText.textContent = `ì •ë‹µë¥ : ${percentage}% (${correctAnswers}/${answeredCount})`;
        }

        function createCard(wordData, index) {
            const cardContainer = document.createElement('div');
            cardContainer.className = 'card-container h-80';
            const { p1, verb, p2 } = wordData.sentence_parts;

            const formsHTML = wordData.forms ? `<div class="word-forms text-base text-blue-700 font-semibold">
                                                  <p>${wordData.forms}</p>
                                               </div>` : '';
            
            const shuffledOptions = [...wordData.options];
            shuffleArray(shuffledOptions);

            const optionsHTML = shuffledOptions.map(option => 
                `<button class="option-btn">${option}</button>`
            ).join('');

            cardContainer.innerHTML = `
                <div class="card">
                    <div class="card-face card-front">
                        <h2 class="text-4xl sm:text-5xl font-bold p-2">${wordData.eng}</h2>
                    </div>
                    <div class="card-face card-back">
                        <div class="flex items-center gap-4">
                            <div>
                                <h3 class="text-2xl sm:text-3xl font-bold">${wordData.eng} <span class="text-xl font-normal text-blue-700">[${wordData.pos}] ${wordData.kor}</span></h3>
                                <p class="text-lg sm:text-xl font-semibold text-blue-600">${wordData.ipa} (${wordData.kor_pron})</p>
                            </div>
                            <button class="play-btn" data-word="${wordData.eng}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </button>
                        </div>
                        
                        ${formsHTML}

                        <hr class="w-full border-t border-blue-200">

                        <div class="text-base sm:text-lg w-full">
                            <p class="mb-2 sentence-container flex items-center justify-center">
                                <span>${p1}</span>
                                <span class="font-bold text-xl quiz-placeholder">&nbsp;&nbsp;(...)&nbsp;&nbsp;</span>
                                <span>${p2}</span>
                                <button class="sentence-play-btn">ğŸ”Š</button>
                            </p>
                            <div class="quiz-options">
                                ${optionsHTML}
                            </div>
                            <p class="text-gray-500 mt-2">${wordData.sentence_kor}</p>
                        </div>
                    </div>
                </div>
            `;

            cardGrid.appendChild(cardContainer);

            const card = cardContainer.querySelector('.card');
            const playButton = cardContainer.querySelector('.play-btn');
            const optionButtons = cardContainer.querySelectorAll('.option-btn');
            const quizPlaceholder = cardContainer.querySelector('.quiz-placeholder');
            const sentencePlayButton = cardContainer.querySelector('.sentence-play-btn');
            
            cardContainer.addEventListener('click', (e) => {
                if (!e.target.closest('.option-btn') && !e.target.closest('.play-btn') && !e.target.closest('.sentence-play-btn')) {
                    card.classList.toggle('flipped');
                }
            });

            optionButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    
                    const selectedAnswer = button.textContent;
                    const correctAnswer = wordData.sentence_parts.verb;

                    if (selectedAnswer === correctAnswer) {
                        button.classList.add('correct');
                        currentScore += 10;
                    } else {
                        button.classList.add('incorrect');
                        optionButtons.forEach(btn => {
                            if (btn.textContent === correctAnswer) {
                                btn.classList.add('correct');
                            }
                        });
                    }
                    
                    answeredCount++;
                    updateScoreDisplay();
                    
                    quizPlaceholder.innerHTML = `&nbsp;&nbsp;${correctAnswer}&nbsp;&nbsp;`;
                    quizPlaceholder.classList.add('text-fuchsia-500');
                    sentencePlayButton.style.display = 'inline-block';

                    optionButtons.forEach(btn => {
                        btn.disabled = true;
                    });

                    if (answeredCount === totalProblems) {
                        resetButton.disabled = false;
                    }
                });
            });

            playButton.addEventListener('click', (e) => {
                e.stopPropagation();
                speak(e.currentTarget.dataset.word);
            });

            sentencePlayButton.addEventListener('click', (e) => {
                e.stopPropagation();
                const fullSentence = p1 + ' ' + verb + ' ' + p2;
                speak(fullSentence);
            });
        }

        function initializeQuiz() {
            cardGrid.innerHTML = '';
            currentScore = 0;
            answeredCount = 0;
            updateScoreDisplay();
            resetButton.disabled = true;
            words.forEach(createCard);
        }

        resetButton.addEventListener('click', initializeQuiz);

        // ì´ˆê¸° ì‹¤í–‰
        initializeQuiz();
    </script>
</body>
</html>
